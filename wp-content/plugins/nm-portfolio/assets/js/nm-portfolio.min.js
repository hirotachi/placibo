(function(c){window.NM_Portfolio={init:function(){var a=this;a.$pageIncludes=c("#nm-page-includes");c(window).load(function(){if(a.$pageIncludes.hasClass("portfolio"))for(var b=c(".nm-portfolio-grid"),e=0;e<b.length;e++){var d=c(b[e]),f=d.siblings(".nm-portfolio-categories");a.packeryLayout(d);f.length&&f.hasClass("js-sorting")&&a.categoriesAnimatedSorting(f)}})},packeryLayout:function(a){a.parent(".nm-portfolio").hasClass("packery-enabled")&&(a.packery({itemSelector:"li",gutter:0,isInitLayout:!1}),
a.packery("once","layoutComplete",function(){a.removeClass("nm-loader").addClass("show")}),a.packery())},categoriesAnimatedSorting:function(a){a.find("a").bind("click",function(b){b.preventDefault();b=c(this);var e=b.closest(".nm-portfolio");if(!b.hasClass("current")){e.children(".nm-portfolio-categories").children(".current").removeClass("current");b.parent("li").addClass("current");var d=e.children(".nm-portfolio-grid"),f=d.children("li"),k=b.data("filter"),h=e.hasClass("packery-enabled")?!0:!1;
if(k){var g;f.each(function(){g=c(this);g.hasClass(k)?(h&&d.packery("unignore",g[0]),g.removeClass("hide fade-out")):(h&&d.packery("ignore",g[0]),g.addClass("hide fade-out"))})}else h&&f.each(function(){d.packery("unignore",c(this)[0])}),f.removeClass("hide fade-out");h&&d.packery()}})}};c(document).ready(function(){window.NM_Portfolio.init()})})(jQuery);